{"version":3,"sources":["webpack:///route-home.chunk.53382.js","webpack:///./components/day/style.scss?552d","webpack:///./routes/home/index.js","webpack:///./components/day/index.js","webpack:///./components/intro/index.js","webpack:///./routes/home/style.scss?5fb6","webpack:///./components/intro/style.scss?f895"],"names":["webpackJsonp","7BpW","module","exports","day","background","label","cover","box","day-1","day-2","day-3","day-4","day-5","day-6","day-7","day-8","day-9","day-10","day-11","day-12","day-13","day-14","day-15","day-16","day-17","day-18","day-19","day-20","day-21","day-22","day-23","day-24","day-25","Jt/k","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","intro__classCallCheck","instance","Constructor","intro__possibleConstructorReturn","intro__inherits","home__classCallCheck","home__possibleConstructorReturn","home__inherits","getXFromTouchOrPointer","event","x","changedTouches","clientX","e","console","log","constrainNumber","number","min","max","Math","defineProperty","preact_min","style","style_default","n","day_style","day_style_default","day_Day","_Component","Day","this","apply","arguments","render","_ref","offsetX","mod2Class","a","dayClass","class","getStyle","window","relativeOffset","innerWidth","abs","transform","intro_style","intro_style_default","intro_Intro","Intro","intro","getStyles","ratio","opacity","d","home_Home","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","windowProxy","Home","_temp","_this","_ret","_len","args","Array","_key","concat","state","isMouseDown","trackingPoints","decVelX","startDrag","setState","endDrag","addTrackingPoint","startDeceleration","drag","delta","updateOffset","scroll","preventDefault","deltaX","deltaY","onTouchStart","onTouchEnd","onTouchMove","onMouseDown","onMouseUp","onMouseMove","onMouseWheel","onMouseLeave","days","grabbingClass","getTransform","renderDays","time","Date","now","shift","push","windowWidth","dayOffsetX","firstPoint","lastPoint","xOffset","timeOffset","D","decelerating","requestAnimationFrame","stepDeceleration","bind","get","grabbing","Lglr","yQ52"],"mappings":"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","file":"route-home.chunk.53382.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"7BpW\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"day\":\"day__1Bqpt\",\"background\":\"background__ZCkI0\",\"label\":\"label__2BtRs\",\"cover\":\"cover__1Xjgy\",\"box\":\"box__1tRXU\",\"day-1\":\"day-1__2EG-K\",\"day-2\":\"day-2__3Oo5u\",\"day-3\":\"day-3__2vj-l\",\"day-4\":\"day-4__1qI6D\",\"day-5\":\"day-5__xskGj\",\"day-6\":\"day-6__2R5id\",\"day-7\":\"day-7__2soa2\",\"day-8\":\"day-8__39qBf\",\"day-9\":\"day-9__1FzKA\",\"day-10\":\"day-10__27Swe\",\"day-11\":\"day-11__3ZVbK\",\"day-12\":\"day-12__3TVDU\",\"day-13\":\"day-13__3pyPw\",\"day-14\":\"day-14__2Mh4g\",\"day-15\":\"day-15__2xpaW\",\"day-16\":\"day-16__JYukD\",\"day-17\":\"day-17__2PY85\",\"day-18\":\"day-18__3uIzv\",\"day-19\":\"day-19__1NwZN\",\"day-20\":\"day-20__1ABKp\",\"day-21\":\"day-21__2vIKC\",\"day-22\":\"day-22__1jVub\",\"day-23\":\"day-23__3rQy8\",\"day-24\":\"day-24__2bScc\",\"day-25\":\"day-25__3oINU\"};\n\n/***/ }),\n\n/***/ \"Jt/k\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./routes/home/style.scss\nvar style = __webpack_require__(\"Lglr\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ./components/day/style.scss\nvar day_style = __webpack_require__(\"7BpW\");\nvar day_style_default = /*#__PURE__*/__webpack_require__.n(day_style);\n\n// CONCATENATED MODULE: ./components/day/index.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar day_Day = function (_Component) {\n  _inherits(Day, _Component);\n\n  function Day() {\n    _classCallCheck(this, Day);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Day.prototype.render = function render(_ref) {\n    var day = _ref.day,\n        offsetX = _ref.offsetX;\n\n    var mod2Class = day % 2 === 0 ? day_style_default.a.cover : day_style_default.a.box;\n    var dayClass = day_style_default.a['day-' + (day + 1)];\n    return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': day_style_default.a.day + ' ' + mod2Class + ' ' + dayClass },\n      Object(preact_min[\"h\"])(\n        'h1',\n        { 'class': day_style_default.a.label },\n        day + 1\n      ),\n      Object(preact_min[\"h\"])('div', { 'class': day_style_default.a.background, style: this.getStyle(day, offsetX) })\n    );\n  };\n\n  Day.prototype.getStyle = function getStyle(day, offsetX) {\n    if (typeof window === \"undefined\") {\n      return {};\n    }\n    var relativeOffset = 20 * offsetX / window.innerWidth;\n    if (20 < Math.abs(relativeOffset)) {\n      // Only cause style re-paints for the current visible area\n      return {};\n    }\n\n    var transform = void 0;\n    if (day % 2 === 0) {\n      transform = 'translate3d(' + relativeOffset + '%, 0, 0)';\n    } else {\n      transform = 'rotateY(' + relativeOffset + 'deg)';\n    }\n    return { transform: transform };\n  };\n\n  return Day;\n}(preact_min[\"Component\"]);\n// EXTERNAL MODULE: ./components/intro/style.scss\nvar intro_style = __webpack_require__(\"yQ52\");\nvar intro_style_default = /*#__PURE__*/__webpack_require__.n(intro_style);\n\n// CONCATENATED MODULE: ./components/intro/index.js\n\n\nfunction intro__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction intro__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction intro__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar intro_Intro = function (_Component) {\n  intro__inherits(Intro, _Component);\n\n  function Intro() {\n    intro__classCallCheck(this, Intro);\n\n    return intro__possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Intro.prototype.render = function render(_ref) {\n    var offsetX = _ref.offsetX;\n\n    return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': intro_style_default.a.intro },\n      Object(preact_min[\"h\"])(\n        'div',\n        { style: this.getStyles(offsetX) },\n        'Scroll to start your advent adventure...'\n      )\n    );\n  };\n\n  Intro.prototype.getStyles = function getStyles(offsetX) {\n    if (typeof window === \"undefined\") {\n      return {};\n    }\n    var ratio = offsetX / window.innerWidth;\n    var percent = 100 * ratio;\n    return {\n      transform: 'translate3d(' + 1.5 * offsetX + 'px, 0, ' + -1.5 * percent + 'px)',\n      opacity: 1 - ratio\n    };\n  };\n\n  return Intro;\n}(preact_min[\"Component\"]);\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib?{\"babelrc\":false,\"presets\":[[\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-preset-env/lib/index.js\",{\"loose\":true,\"uglify\":true,\"modules\":false,\"targets\":{\"browsers\":[\"> 1%\",\"last 2 versions\",\"IE >= 9\"]},\"exclude\":[\"transform-regenerator\",\"transform-es2015-typeof-symbol\"]}],\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-preset-stage-1/lib/index.js\"],\"plugins\":[\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-object-assign/lib/index.js\",\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-decorators-legacy/lib/index.js\",\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-react-constant-elements/lib/index.js\",\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-react-remove-prop-types/lib/index.js\",[\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-react-jsx/lib/index.js\",{\"pragma\":\"h\"}],[\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-jsx-pragmatic/jsx-pragmatic.js\",{\"module\":\"preact\",\"export\":\"h\",\"import\":\"h\"}]]}!./routes/home/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return home_Home; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\n\nfunction home__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction home__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction home__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar DAY_OF_ADVENT = 25;\n\nvar FRICTION = 0.95;\nvar STOP_THRESHOLD = 0.3;\n\nvar windowProxy = void 0;\nif (typeof window === \"undefined\") {\n\twindowProxy = { innerWidth: 1200 };\n} else {\n\twindowProxy = window;\n}\n\nvar home_Home = function (_Component) {\n\thome__inherits(Home, _Component);\n\n\tfunction Home() {\n\t\tvar _temp, _this, _ret;\n\n\t\thome__classCallCheck(this, Home);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = home__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = { isMouseDown: false, x: 0, offsetX: 0, trackingPoints: [], decVelX: 0 }, _this.startDrag = function (e) {\n\t\t\tvar x = getXFromTouchOrPointer(e);\n\t\t\t_this.setState({ isMouseDown: true, x: x, trackingPoints: [] });\n\t\t}, _this.endDrag = function (e) {\n\t\t\tvar x = getXFromTouchOrPointer(e);\n\t\t\t_this.addTrackingPoint(x);\n\t\t\t_this.setState({ isMouseDown: false });\n\t\t\t_this.startDeceleration();\n\t\t}, _this.drag = function (e) {\n\t\t\tif (_this.state.isMouseDown) {\n\t\t\t\tvar x = getXFromTouchOrPointer(e);\n\t\t\t\t_this.addTrackingPoint(x);\n\t\t\t\tvar delta = _this.state.x - x;\n\t\t\t\t_this.setState({ x: x });\n\t\t\t\t_this.updateOffset(delta);\n\t\t\t}\n\t\t}, _this.scroll = function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar delta = e.deltaX + e.deltaY;\n\t\t\t_this.updateOffset(delta);\n\t\t}, _temp), home__possibleConstructorReturn(_this, _ret);\n\t}\n\n\tHome.prototype.render = function render(props, state) {\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\t'class': 'fullscreen container',\n\t\t\t\tonTouchStart: this.startDrag,\n\t\t\t\tonTouchEnd: this.endDrag,\n\t\t\t\tonTouchMove: this.drag,\n\t\t\t\tonMouseDown: this.startDrag,\n\t\t\t\tonMouseUp: this.endDrag,\n\t\t\t\tonMouseMove: this.drag,\n\t\t\t\tonMouseWheel: this.scroll,\n\t\t\t\tonMouseLeave: this.endDrag\n\t\t\t},\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\t'class': 'fullscreen ' + style_default.a.days + ' ' + this.grabbingClass,\n\t\t\t\t\tstyle: this.getTransform(state)\n\t\t\t\t},\n\t\t\t\tObject(preact_min[\"h\"])(intro_Intro, { offsetX: state.offsetX }),\n\t\t\t\tthis.renderDays(state.offsetX)\n\t\t\t)\n\t\t);\n\t};\n\n\tHome.prototype.addTrackingPoint = function addTrackingPoint(x) {\n\t\tvar time = Date.now();\n\t\tvar trackingPoints = [].concat(this.state.trackingPoints);\n\t\twhile (trackingPoints.length > 0) {\n\t\t\tif (time - trackingPoints[0].time <= 100) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttrackingPoints.shift();\n\t\t}\n\t\ttrackingPoints.push({ x: x, time: time });\n\t\tthis.setState({ trackingPoints: trackingPoints });\n\t};\n\n\tHome.prototype.updateOffset = function updateOffset(delta) {\n\t\tvar offsetX = constrainNumber(this.state.offsetX + delta, 0, windowProxy.innerWidth * DAY_OF_ADVENT);\n\t\tthis.setState({ offsetX: offsetX });\n\t};\n\n\tHome.prototype.getTransform = function getTransform(_ref) {\n\t\tvar offsetX = _ref.offsetX;\n\n\t\treturn { transform: 'translate3d(' + -1 * offsetX + 'px, 0, 0)' };\n\t};\n\n\tHome.prototype.renderDays = function renderDays(offsetX) {\n\t\tvar days = [];\n\t\tvar windowWidth = windowProxy.innerWidth;\n\t\tfor (var i = 0; i < DAY_OF_ADVENT; i++) {\n\t\t\tvar dayOffsetX = offsetX - windowWidth * (i + 1);\n\t\t\tdays.push(Object(preact_min[\"h\"])(day_Day, { day: i, offsetX: dayOffsetX }));\n\t\t}\n\t\treturn days;\n\t};\n\n\t// Deceleration\n\tHome.prototype.startDeceleration = function startDeceleration() {\n\t\tvar trackingPoints = this.state.trackingPoints;\n\n\t\tvar firstPoint = trackingPoints[0];\n\t\tvar lastPoint = trackingPoints[trackingPoints.length - 1];\n\n\t\tvar xOffset = lastPoint.x - firstPoint.x;\n\t\tvar timeOffset = lastPoint.time - firstPoint.time;\n\n\t\tvar D = timeOffset / 15;\n\n\t\tvar decVelX = xOffset / D || 0; // prevent NaN\n\n\t\tvar decelerating = false;\n\t\tif (Math.abs(decVelX) > 1) {\n\t\t\tdecelerating = true;\n\t\t\trequestAnimationFrame(this.stepDeceleration.bind(this));\n\t\t}\n\t\tthis.setState({ decelerating: decelerating, decVelX: decVelX });\n\t};\n\n\tHome.prototype.stepDeceleration = function stepDeceleration() {\n\t\tif (!this.state.decelerating) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar decVelX = this.state.decVelX * FRICTION;\n\t\tif (Math.abs(decVelX) > STOP_THRESHOLD) {\n\t\t\tthis.updateOffset(-1 * decVelX);\n\n\t\t\trequestAnimationFrame(this.stepDeceleration.bind(this));\n\t\t\tthis.setState({ decVelX: decVelX });\n\t\t} else {\n\t\t\tthis.setState({ decelerating: false });\n\t\t}\n\t};\n\n\t_createClass(Home, [{\n\t\tkey: 'grabbingClass',\n\t\tget: function get() {\n\t\t\treturn this.state.isMouseDown ? style_default.a.grabbing : '';\n\t\t}\n\t}]);\n\n\treturn Home;\n}(preact_min[\"Component\"]);\n\n\n\n\nfunction getXFromTouchOrPointer(event) {\n\tvar x = void 0;\n\tif ('touches' in event) {\n\t\ttry {\n\t\t\tx = event.changedTouches[0].clientX;\n\t\t} catch (e) {\n\t\t\tconsole.log(event);\n\t\t}\n\t} else {\n\t\tx = event.clientX;\n\t}\n\treturn x;\n}\n\nfunction constrainNumber(number, min, max) {\n\treturn Math.min(Math.max(number, min), max);\n}\n\n/***/ }),\n\n/***/ \"Lglr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"days\":\"days__zCUeF\",\"grabbing\":\"grabbing__3ik7x\"};\n\n/***/ }),\n\n/***/ \"yQ52\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"intro\":\"intro__3V96J\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-home.chunk.53382.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"day\":\"day__1Bqpt\",\"background\":\"background__ZCkI0\",\"label\":\"label__2BtRs\",\"cover\":\"cover__1Xjgy\",\"box\":\"box__1tRXU\",\"day-1\":\"day-1__2EG-K\",\"day-2\":\"day-2__3Oo5u\",\"day-3\":\"day-3__2vj-l\",\"day-4\":\"day-4__1qI6D\",\"day-5\":\"day-5__xskGj\",\"day-6\":\"day-6__2R5id\",\"day-7\":\"day-7__2soa2\",\"day-8\":\"day-8__39qBf\",\"day-9\":\"day-9__1FzKA\",\"day-10\":\"day-10__27Swe\",\"day-11\":\"day-11__3ZVbK\",\"day-12\":\"day-12__3TVDU\",\"day-13\":\"day-13__3pyPw\",\"day-14\":\"day-14__2Mh4g\",\"day-15\":\"day-15__2xpaW\",\"day-16\":\"day-16__JYukD\",\"day-17\":\"day-17__2PY85\",\"day-18\":\"day-18__3uIzv\",\"day-19\":\"day-19__1NwZN\",\"day-20\":\"day-20__1ABKp\",\"day-21\":\"day-21__2vIKC\",\"day-22\":\"day-22__1jVub\",\"day-23\":\"day-23__3rQy8\",\"day-24\":\"day-24__2bScc\",\"day-25\":\"day-25__3oINU\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/day/style.scss\n// module id = 7BpW\n// module chunks = 0","import { h, Component } from 'preact';\nimport style from './style';\nimport { Day } from '../../components/day';\nimport { Intro } from '../../components/intro';\n\nconst DAY_OF_ADVENT = 25;\n\nconst FRICTION = 0.95;\nconst STOP_THRESHOLD = 0.3;\n\nlet windowProxy;\nif (typeof window === \"undefined\") {\n\twindowProxy = { innerWidth: 1200 };\n} else {\n\twindowProxy = window;\n}\n\nexport default class Home extends Component {\n\n\tstate = { isMouseDown: false, x: 0, offsetX: 0, trackingPoints: [], decVelX: 0 };\n\n\trender(props, state) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass=\"fullscreen container\"\n\t\t\t\tonTouchStart={this.startDrag}\n\t\t\t\tonTouchEnd={this.endDrag}\n\t\t\t\tonTouchMove={this.drag}\n\t\t\t\tonMouseDown={this.startDrag}\n\t\t\t\tonMouseUp={this.endDrag}\n\t\t\t\tonMouseMove={this.drag}\n\t\t\t\tonMouseWheel={this.scroll}\n\t\t\t\tonMouseLeave={this.endDrag}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass={`fullscreen ${style.days} ${this.grabbingClass}`}\n\t\t\t\t\tstyle={this.getTransform(state)}\n\t\t\t\t>\n\t\t\t\t\t<Intro offsetX={state.offsetX} />\n\t\t\t\t\t{this.renderDays(state.offsetX)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tstartDrag = e => {\n\t\tconst x = getXFromTouchOrPointer(e);\n\t\tthis.setState({ isMouseDown: true, x, trackingPoints: [] });\n\t}\n\n\tendDrag = e => {\n\t\tconst x = getXFromTouchOrPointer(e);\n\t\tthis.addTrackingPoint(x);\n\t\tthis.setState({ isMouseDown: false });\n\t\tthis.startDeceleration();\n\t}\n\n\tdrag = e => {\n\t\tif (this.state.isMouseDown) {\n\t\t\tconst x = getXFromTouchOrPointer(e);\n\t\t\tthis.addTrackingPoint(x);\n\t\t\tconst delta = this.state.x - x;\n\t\t\tthis.setState({ x });\n\t\t\tthis.updateOffset(delta);\n\t\t}\n\t}\n\n\tscroll = e => {\n\t\te.preventDefault();\n\t\tconst delta = e.deltaX + e.deltaY;\n\t\tthis.updateOffset(delta);\n\t}\n\n\taddTrackingPoint(x) {\n\t\tconst time = Date.now();\n\t\tconst trackingPoints = [...this.state.trackingPoints];\n\t\twhile (trackingPoints.length > 0) {\n\t\t\tif (time - trackingPoints[0].time <= 100) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttrackingPoints.shift();\n\t\t}\n\t\ttrackingPoints.push({ x, time })\n\t\tthis.setState({trackingPoints});\n\t}\n\n\tupdateOffset(delta) {\n\t\tconst offsetX = constrainNumber(this.state.offsetX + delta, 0, windowProxy.innerWidth * DAY_OF_ADVENT);\n\t\tthis.setState({ offsetX });\n\t}\n\n\tgetTransform({ offsetX }) {\n\t\treturn { transform: `translate3d(${-1 * offsetX}px, 0, 0)` };\n\t}\n\n\trenderDays(offsetX) {\n\t\tconst days = [];\n\t\tconst windowWidth = windowProxy.innerWidth;\n\t\tfor (let i = 0; i < DAY_OF_ADVENT; i++) {\n\t\t\tconst dayOffsetX = offsetX - windowWidth * (i + 1);\n\t\t\tdays.push(<Day day={i} offsetX={dayOffsetX} />);\n\t\t}\n\t\treturn days;\n\t}\n\n\tget grabbingClass() {\n\t\treturn this.state.isMouseDown ? style.grabbing : '';\n\t}\n\n\t// Deceleration\n\tstartDeceleration() {\n\t\tconst { trackingPoints } = this.state;\n\t\tconst firstPoint = trackingPoints[0];\n\t\tconst lastPoint = trackingPoints[trackingPoints.length - 1];\n\n\t\tvar xOffset = lastPoint.x - firstPoint.x;\n\t\tvar timeOffset = lastPoint.time - firstPoint.time;\n\n\t\tconst D = (timeOffset / 15);\n\n\t\tconst decVelX = (xOffset / D) || 0; // prevent NaN\n\n\t\tlet decelerating = false;\n\t\tif (Math.abs(decVelX) > 1) {\n\t\t\tdecelerating = true;\n\t\t\trequestAnimationFrame(this.stepDeceleration.bind(this));\n\t\t}\n\t\tthis.setState({ decelerating, decVelX });\n\t}\n\n\tstepDeceleration() {\n\t\tif (!this.state.decelerating) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst decVelX = this.state.decVelX * FRICTION;\n\t\tif (Math.abs(decVelX) > STOP_THRESHOLD) {\n\t\t\tthis.updateOffset(-1 * decVelX);\n\n\t\t\trequestAnimationFrame(this.stepDeceleration.bind(this));\n\t\t\tthis.setState({decVelX});\n\t\t} else {\n\t\t\tthis.setState({decelerating: false});\n\t\t}\n\t}\n\n}\n\nfunction getXFromTouchOrPointer(event) {\n\tlet x;\n\tif ('touches' in event) {\n\t\ttry {\n\t\t\tx = event.changedTouches[0].clientX;\n\t\t} catch (e) {\n\t\t\tconsole.log(event);\n\t\t}\n\t\t\n\t} else {\n\t\tx = event.clientX;\n\t}\n\treturn x;\n}\n\nfunction constrainNumber(number, min, max) {\n\treturn Math.min(Math.max(number, min), max);\n}\n\n\n// WEBPACK FOOTER //\n// ./routes/home/index.js","import { h, Component } from 'preact';\nimport style from './style';\n\n\nexport class Day extends Component {\n  render({day, offsetX}) {\n    const mod2Class = day % 2 === 0 ? style.cover: style.box;\n    const dayClass = style[`day-${day + 1}`];\n    return <div class={`${style.day} ${mod2Class} ${dayClass}`}>\n      <h1 class={style.label}>{day + 1}</h1>\n      <div class={style.background} style={this.getStyle(day, offsetX)}></div>\n    </div>;\n  }\n\n  getStyle(day, offsetX) {\n    if (typeof window === \"undefined\") {\n      return {};\n    }\n    const relativeOffset = 20 * offsetX / window.innerWidth;\n    if (20 < Math.abs(relativeOffset)) {\n      // Only cause style re-paints for the current visible area\n      return {};\n    }\n\n    let transform;\n    if (day % 2 === 0) {\n      transform = `translate3d(${relativeOffset}%, 0, 0)`;\n    } else {\n      transform = `rotateY(${relativeOffset}deg)`;\n    }\n    return {transform};\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/day/index.js","import { h, Component } from 'preact';\nimport style from './style';\n\nexport class Intro extends Component {\n  render({offsetX}) {\n    return <div class={style.intro}>\n      <div style={this.getStyles(offsetX)}>Scroll to start your advent adventure...</div>\n    </div>;\n  }\n\n  getStyles(offsetX) {\n    if (typeof window === \"undefined\") {\n      return {};\n    }\n    const ratio = offsetX / window.innerWidth\n    const percent = 100 * ratio;\n    return {\n      transform: `translate3d(${1.5 * offsetX}px, 0, ${-1.5 * percent}px)`,\n      opacity: 1 - ratio,\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/intro/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"days\":\"days__zCUeF\",\"grabbing\":\"grabbing__3ik7x\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/style.scss\n// module id = Lglr\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"intro\":\"intro__3V96J\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/intro/style.scss\n// module id = yQ52\n// module chunks = 0"],"sourceRoot":""}