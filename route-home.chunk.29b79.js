webpackJsonp([0],{"7BpW":function(t){t.exports={day:"day__1Bqpt",background:"background__ZCkI0",label:"label__2BtRs",guard:"guard__UXw_u",opened:"opened__3r8E_",box:"box__1tRXU",cover:"cover__1Xjgy","day-1":"day-1__2EG-K","day-2":"day-2__3Oo5u","day-3":"day-3__2vj-l","day-4":"day-4__1qI6D","day-5":"day-5__xskGj","day-6":"day-6__2R5id","day-7":"day-7__2soa2","day-8":"day-8__39qBf","day-9":"day-9__1FzKA","day-10":"day-10__27Swe","day-11":"day-11__3ZVbK","day-12":"day-12__3TVDU","day-13":"day-13__3pyPw","day-14":"day-14__2Mh4g","day-15":"day-15__2xpaW","day-16":"day-16__JYukD","day-17":"day-17__2PY85","day-18":"day-18__3uIzv","day-19":"day-19__1NwZN","day-20":"day-20__1ABKp","day-21":"day-21__2vIKC","day-22":"day-22__1jVub","day-23":"day-23__3rQy8","day-24":"day-24__2bScc","day-25":"day-25__3oINU"}},"Jt/k":function(t,e,n){"use strict";function r(t){return t-new Date>0}function o(t){for(var e,n,r=[],o=a(t),i=0;i<o.length&&(e=o[i],n=S[i],!(e&&(r.push(""+e+n),r.length>=2)));i++);return r.join(", ")}function a(t){var e=[],n=t,r=void 0;return[1e3,60,60,24,7,52].forEach(function(t){var o=i(n,t);n=o[0],r=o[1],e.unshift(r)},[]),e}function i(t,e){var n=t%e;return[(t-n)/e,n]}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t){var e=void 0;if("touches"in t)try{e=t.changedTouches[0].clientX}catch(e){console.log(t)}else e=t.clientX;return e}function v(t,e,n){return Math.min(Math.max(t,e),n)}Object.defineProperty(e,"__esModule",{value:!0});var _,g,w=n("KM04"),O=n("Lglr"),m=n.n(O),j=n("7BpW"),D=n.n(j),S=["w","d","h","m","s","ms"],x=(g=_=function(){function t(){this.opens=this.loadState()}return t.prototype.openDay=function(t){this.opens[t]=!0,this.saveState()},t.prototype.loadState=function(){var e=void 0;try{e=localStorage.getItem(t.KEY)}catch(t){}var n=void 0;if(e)try{n=JSON.parse(e)}catch(t){}if(!n){n={};for(var r=0;r<25;r++)n[r]=!1}return n},t.prototype.saveState=function(){var e=JSON.stringify(this.opens);try{localStorage.setItem(t.KEY,e)}catch(t){}},t}(),_.KEY="opens",g),k=new x,M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=(new Date).getFullYear(),X=function(t){function e(){s(this,e);var n=u(this,t.call(this));return n.open=function(){k.openDay(n.props.day),n.setState({isOpened:!0})},n.state={isFuture:!0,deltaFormatted:null,isOpened:!1},n}return c(e,t),e.prototype.componentDidMount=function(){var t=this;this.setState({isOpened:k.opens[this.props.day]}),this.timer=setInterval(function(){var e=r(t.date);if(t.state.isFuture!==e&&t.setState({isFuture:e}),e){var n=t.date-new Date,a=o(n);t.state.deltaFormatted!==a&&t.setState({deltaFormatted:a})}},1e3)},e.prototype.componentWillUnmount=function(){clearInterval(this.timer)},e.prototype.render=function(t,e){var n=t.day,r=t.offsetX,o=n%2==0?D.a.cover:D.a.box,a=D.a["day-"+(n+1)],i=e.isOpened?D.a.opened:"";return Object(w.h)("div",{class:D.a.day+" "+o+" "+a+" "+i},Object(w.h)("h1",{class:D.a.label},n+1),Object(w.h)("div",{class:D.a.background,style:this.getStyle(n,r)}),this.renderGaurd(n,e))},e.prototype.getStyle=function(t,e){if("undefined"==typeof window)return{};var n=20*e/window.innerWidth;if(20<Math.abs(n))return{};var r=void 0;return r=t%2==0?"translate3d("+n+"%, 0, 0)":"rotateY("+2*n+"deg)",{transform:r}},e.prototype.renderGaurd=function(t,e){var n=e.isFuture,r=e.deltaFormatted,o=n?Object(w.h)("p",null,"Open in ",r):Object(w.h)("button",{type:"button",onClick:this.open},"Open");return Object(w.h)("div",{class:D.a.guard},Object(w.h)("div",null,Object(w.h)("h1",null,t+1," Dec")),Object(w.h)("div",null,o))},M(e,[{key:"date",get:function(){var t=this.props.day;return new Date(P,11,t+1)}}]),e}(w.Component),E=n("sw5u"),C=n("yQ52"),T=n.n(C),F=function(t){function e(){return f(this,e),p(this,t.apply(this,arguments))}return d(e,t),e.prototype.render=function(t){var e=t.offsetX;return Object(w.h)("div",{class:T.a.intro},Object(w.h)("div",{style:this.getStyles(e)},"Scroll to start your advent adventure..."),Object(w.h)(E.Link,{href:"/about",class:T.a.about+" link-button"},"About"))},e.prototype.getStyles=function(t){if("undefined"==typeof window)return{};var e=t/window.innerWidth;return{transform:"translate3d("+1.5*t+"px, 0, "+100*e*-1.5+"px)",opacity:1-e}},e}(w.Component);n.d(e,"default",function(){return K});var U=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W=void 0;W="undefined"==typeof window?{innerWidth:1200}:window;var K=function(t){function e(){var n,r,o;l(this,e);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=y(this,t.call.apply(t,[this].concat(i))),r.state={isMouseDown:!1,x:0,offsetX:0,trackingPoints:[],decVelX:0,relOffsetX:0},r.startDrag=function(t){var e=b(t);r.setState({isMouseDown:!0,x:e,trackingPoints:[]})},r.endDrag=function(t){var e=b(t);r.addTrackingPoint(e),r.setState({isMouseDown:!1}),r.startDeceleration()},r.drag=function(t){if(r.state.isMouseDown){var e=b(t);r.addTrackingPoint(e);var n=r.state.x-e;r.setState({x:e}),r.updateOffset(n)}},r.scroll=function(t){t.preventDefault(),r.updateOffset(t.deltaX+t.deltaY)},o=n,y(r,o)}return h(e,t),e.prototype.render=function(t,e){return Object(w.h)("div",{class:"fullscreen container",onTouchStart:this.startDrag,onTouchEnd:this.endDrag,onTouchMove:this.drag,onMouseDown:this.startDrag,onMouseUp:this.endDrag,onMouseMove:this.drag,onMouseWheel:this.scroll,onMouseLeave:this.endDrag},Object(w.h)("div",{class:"fullscreen "+m.a.days+" "+this.grabbingClass,style:this.getTransform(e)},Object(w.h)(F,{offsetX:e.offsetX}),this.renderDays(e.offsetX)))},e.prototype.addTrackingPoint=function(t){for(var e=Date.now(),n=[].concat(this.state.trackingPoints);n.length>0&&!(e-n[0].time<=100);)n.shift();n.push({x:t,time:e}),this.setState({trackingPoints:n})},e.prototype.updateOffset=function(t){var e=25*W.innerWidth,n=v(this.state.offsetX+t,0,e);this.setState({offsetX:n,relOffsetX:n/e})},e.prototype.componentDidMount=function(){window.addEventListener("resize",this.updateDimensions.bind(this))},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensions.bind(this))},e.prototype.updateDimensions=function(){this.setState({offsetX:this.state.relOffsetX*W.innerWidth*25})},e.prototype.getTransform=function(t){return{transform:"translate3d("+-1*t.offsetX+"px, 0, 0)"}},e.prototype.renderDays=function(t){for(var e=[],n=W.innerWidth,r=0;r<25;r++){var o=t-n*(r+1);e.push(Object(w.h)(X,{day:r,offsetX:o}))}return e},e.prototype.startDeceleration=function(){var t=this.state.trackingPoints,e=t[0],n=t[t.length-1],r=n.x-e.x,o=n.time-e.time,a=o/15,i=r/a||0,s=!1;Math.abs(i)>1&&(s=!0,requestAnimationFrame(this.stepDeceleration.bind(this))),this.setState({decelerating:s,decVelX:i})},e.prototype.stepDeceleration=function(){if(this.state.decelerating){var t=.95*this.state.decVelX;Math.abs(t)>.3?(this.updateOffset(-1*t),requestAnimationFrame(this.stepDeceleration.bind(this)),this.setState({decVelX:t})):this.setState({decelerating:!1})}},U(e,[{key:"grabbingClass",get:function(){return this.state.isMouseDown?m.a.grabbing:""}}]),e}(w.Component)},Lglr:function(t){t.exports={days:"days__zCUeF",grabbing:"grabbing__3ik7x"}},sw5u:function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Link=e.Match=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n("KM04"),u=n("/QC5"),c=e.Match=function(t){function e(){for(var e,n,r,a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=n=o(this,t.call.apply(t,[this].concat(i))),n.update=function(t){n.nextUrl=t,n.setState({})},r=e,o(n,r)}return a(e,t),e.prototype.componentDidMount=function(){u.subscribers.push(this.update)},e.prototype.componentWillUnmount=function(){u.subscribers.splice(u.subscribers.indexOf(this.update)>>>0,1)},e.prototype.render=function(t){var e=this.nextUrl||(0,u.getCurrentUrl)(),n=e.replace(/\?.+$/,"");return this.nextUrl=null,t.children[0]&&t.children[0]({url:e,path:n,matches:n===t.path})},e}(s.Component),f=function(t){var e=t.activeClassName,n=t.path,o=r(t,["activeClassName","path"]);return(0,s.h)(c,{path:n||o.href},function(t){var n=t.matches;return(0,s.h)(u.Link,i({},o,{class:[o.class||o.className,n&&e].filter(Boolean).join(" ")}))})};e.Link=f,e.default=c,c.Link=f},yQ52:function(t){t.exports={intro:"intro__3V96J",about:"about__2MuEn"}}});
//# sourceMappingURL=route-home.chunk.29b79.js.map