{"version":3,"sources":["webpack:///route-home.chunk.faa27.js","webpack:///./components/day/style.scss?552d","webpack:///./routes/home/index.js","webpack:///./components/day/index.js","webpack:///./components/intro/index.js","webpack:///./routes/home/style.scss?5fb6","webpack:///./components/intro/style.scss?f895"],"names":["webpackJsonp","7BpW","module","exports","day","background","cover","label","box","day-1","day-2","day-3","day-4","day-5","day-6","day-7","day-8","day-9","day-10","day-11","day-12","day-13","day-14","day-15","day-16","day-17","day-18","day-19","day-20","day-21","day-22","day-23","day-24","day-25","Jt/k","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","intro__classCallCheck","instance","Constructor","intro__possibleConstructorReturn","intro__inherits","home__classCallCheck","home__possibleConstructorReturn","home__inherits","getXFromTouchOrPointer","event","touches","clientX","constrainNumber","number","min","max","Math","defineProperty","preact_min","style","style_default","n","day_style","day_style_default","day_Day","_Component","Day","this","apply","arguments","render","_ref","offsetX","mod2Class","a","dayClass","class","getStyle","window","relativeOffset","innerWidth","abs","transform","intro_style","intro_style_default","intro_Intro","Intro","intro","getStyles","ratio","opacity","d","home_Home","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","windowProxy","Home","_temp","_this","_ret","_len","args","Array","_key","concat","state","isMouseDown","x","startDrag","e","setState","endDrag","drag","delta","updateOffset","scroll","preventDefault","deltaX","deltaY","onTouchStart","onTouchEnd","onTouchMove","onMouseDown","onMouseUp","onMouseMove","onMouseWheel","onMouseLeave","days","grabbingClass","getTransform","renderDays","windowWidth","dayOffsetX","push","get","grabbing","Lglr","yQ52"],"mappings":"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","file":"route-home.chunk.faa27.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"7BpW\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"day\":\"day__1Bqpt\",\"background\":\"background__ZCkI0\",\"cover\":\"cover__1Xjgy\",\"label\":\"label__2BtRs\",\"box\":\"box__1tRXU\",\"day-1\":\"day-1__2EG-K\",\"day-2\":\"day-2__3Oo5u\",\"day-3\":\"day-3__2vj-l\",\"day-4\":\"day-4__1qI6D\",\"day-5\":\"day-5__xskGj\",\"day-6\":\"day-6__2R5id\",\"day-7\":\"day-7__2soa2\",\"day-8\":\"day-8__39qBf\",\"day-9\":\"day-9__1FzKA\",\"day-10\":\"day-10__27Swe\",\"day-11\":\"day-11__3ZVbK\",\"day-12\":\"day-12__3TVDU\",\"day-13\":\"day-13__3pyPw\",\"day-14\":\"day-14__2Mh4g\",\"day-15\":\"day-15__2xpaW\",\"day-16\":\"day-16__JYukD\",\"day-17\":\"day-17__2PY85\",\"day-18\":\"day-18__3uIzv\",\"day-19\":\"day-19__1NwZN\",\"day-20\":\"day-20__1ABKp\",\"day-21\":\"day-21__2vIKC\",\"day-22\":\"day-22__1jVub\",\"day-23\":\"day-23__3rQy8\",\"day-24\":\"day-24__2bScc\",\"day-25\":\"day-25__3oINU\"};\n\n/***/ }),\n\n/***/ \"Jt/k\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./routes/home/style.scss\nvar style = __webpack_require__(\"Lglr\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ./components/day/style.scss\nvar day_style = __webpack_require__(\"7BpW\");\nvar day_style_default = /*#__PURE__*/__webpack_require__.n(day_style);\n\n// CONCATENATED MODULE: ./components/day/index.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar day_Day = function (_Component) {\n  _inherits(Day, _Component);\n\n  function Day() {\n    _classCallCheck(this, Day);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Day.prototype.render = function render(_ref) {\n    var day = _ref.day,\n        offsetX = _ref.offsetX;\n\n    var mod2Class = day % 2 === 0 ? day_style_default.a.cover : day_style_default.a.box;\n    var dayClass = day_style_default.a['day-' + (day + 1)];\n    return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': day_style_default.a.day + ' ' + mod2Class + ' ' + dayClass },\n      Object(preact_min[\"h\"])(\n        'h1',\n        { 'class': day_style_default.a.label },\n        day + 1\n      ),\n      Object(preact_min[\"h\"])('div', { 'class': day_style_default.a.background, style: this.getStyle(day, offsetX) })\n    );\n  };\n\n  Day.prototype.getStyle = function getStyle(day, offsetX) {\n    if (typeof window === \"undefined\") {\n      return {};\n    }\n    var relativeOffset = 20 * offsetX / window.innerWidth;\n    if (20 < Math.abs(relativeOffset)) {\n      // Only cause style re-paints for the current visible area\n      return {};\n    }\n\n    var transform = void 0;\n    if (day % 2 === 0) {\n      transform = 'translate3d(' + relativeOffset + '%, 0, 0)';\n    } else {\n      transform = 'rotateY(' + relativeOffset + 'deg)';\n    }\n    return { transform: transform };\n  };\n\n  return Day;\n}(preact_min[\"Component\"]);\n// EXTERNAL MODULE: ./components/intro/style.scss\nvar intro_style = __webpack_require__(\"yQ52\");\nvar intro_style_default = /*#__PURE__*/__webpack_require__.n(intro_style);\n\n// CONCATENATED MODULE: ./components/intro/index.js\n\n\nfunction intro__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction intro__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction intro__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar intro_Intro = function (_Component) {\n  intro__inherits(Intro, _Component);\n\n  function Intro() {\n    intro__classCallCheck(this, Intro);\n\n    return intro__possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Intro.prototype.render = function render(_ref) {\n    var offsetX = _ref.offsetX;\n\n    return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': intro_style_default.a.intro },\n      Object(preact_min[\"h\"])(\n        'div',\n        { style: this.getStyles(offsetX) },\n        'Scroll to start your advent adventure...'\n      )\n    );\n  };\n\n  Intro.prototype.getStyles = function getStyles(offsetX) {\n    if (typeof window === \"undefined\") {\n      return {};\n    }\n    var ratio = offsetX / window.innerWidth;\n    var percent = 100 * ratio;\n    return {\n      transform: 'translate3d(' + 1.5 * offsetX + 'px, 0, ' + -1.5 * percent + 'px)',\n      opacity: 1 - ratio\n    };\n  };\n\n  return Intro;\n}(preact_min[\"Component\"]);\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib?{\"babelrc\":false,\"presets\":[[\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-preset-env/lib/index.js\",{\"loose\":true,\"uglify\":true,\"modules\":false,\"targets\":{\"browsers\":[\"> 1%\",\"last 2 versions\",\"IE >= 9\"]},\"exclude\":[\"transform-regenerator\",\"transform-es2015-typeof-symbol\"]}],\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-preset-stage-1/lib/index.js\"],\"plugins\":[\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-object-assign/lib/index.js\",\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-decorators-legacy/lib/index.js\",\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-react-constant-elements/lib/index.js\",\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-react-remove-prop-types/lib/index.js\",[\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-transform-react-jsx/lib/index.js\",{\"pragma\":\"h\"}],[\"/Users/euan/Development/Apps/xmas-2017-preact/node_modules/babel-plugin-jsx-pragmatic/jsx-pragmatic.js\",{\"module\":\"preact\",\"export\":\"h\",\"import\":\"h\"}]]}!./routes/home/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return home_Home; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\n\nfunction home__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction home__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction home__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar DAY_OF_ADVENT = 25;\n\nvar windowProxy = void 0;\nif (typeof window === \"undefined\") {\n\twindowProxy = { innerWidth: 1200 };\n} else {\n\twindowProxy = window;\n}\n\nvar home_Home = function (_Component) {\n\thome__inherits(Home, _Component);\n\n\tfunction Home() {\n\t\tvar _temp, _this, _ret;\n\n\t\thome__classCallCheck(this, Home);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = home__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = { isMouseDown: false, x: 0, offsetX: 0 }, _this.startDrag = function (e) {\n\t\t\tvar x = getXFromTouchOrPointer(e);\n\t\t\t_this.setState({ isMouseDown: true, x: x });\n\t\t}, _this.endDrag = function (e) {\n\t\t\t_this.setState({ isMouseDown: false });\n\t\t}, _this.drag = function (e) {\n\t\t\tif (_this.state.isMouseDown) {\n\t\t\t\tvar x = getXFromTouchOrPointer(e);\n\t\t\t\tvar delta = _this.state.x - x;\n\t\t\t\t_this.setState({ x: x });\n\t\t\t\t_this.updateOffset(delta);\n\t\t\t}\n\t\t}, _this.scroll = function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar delta = e.deltaX + e.deltaY;\n\t\t\t_this.updateOffset(delta);\n\t\t}, _temp), home__possibleConstructorReturn(_this, _ret);\n\t}\n\n\tHome.prototype.render = function render(props, state) {\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\t'class': 'fullscreen container',\n\t\t\t\tonTouchStart: this.startDrag,\n\t\t\t\tonTouchEnd: this.endDrag,\n\t\t\t\tonTouchMove: this.drag,\n\t\t\t\tonMouseDown: this.startDrag,\n\t\t\t\tonMouseUp: this.endDrag,\n\t\t\t\tonMouseMove: this.drag,\n\t\t\t\tonMouseWheel: this.scroll,\n\t\t\t\tonMouseLeave: this.endDrag\n\t\t\t},\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\t'class': 'fullscreen ' + style_default.a.days + ' ' + this.grabbingClass,\n\t\t\t\t\tstyle: this.getTransform(state)\n\t\t\t\t},\n\t\t\t\tObject(preact_min[\"h\"])(intro_Intro, { offsetX: state.offsetX }),\n\t\t\t\tthis.renderDays(state.offsetX)\n\t\t\t)\n\t\t);\n\t};\n\n\tHome.prototype.updateOffset = function updateOffset(delta) {\n\t\tvar offsetX = constrainNumber(this.state.offsetX + delta, 0, windowProxy.innerWidth * DAY_OF_ADVENT);\n\t\tthis.setState({ offsetX: offsetX });\n\t};\n\n\tHome.prototype.getTransform = function getTransform(_ref) {\n\t\tvar offsetX = _ref.offsetX;\n\n\t\treturn { transform: 'translate3d(' + -1 * offsetX + 'px, 0, 0)' };\n\t};\n\n\tHome.prototype.renderDays = function renderDays(offsetX) {\n\t\tvar days = [];\n\t\tvar windowWidth = windowProxy.innerWidth;\n\t\tfor (var i = 0; i < DAY_OF_ADVENT; i++) {\n\t\t\tvar dayOffsetX = offsetX - windowWidth * (i + 1);\n\t\t\tdays.push(Object(preact_min[\"h\"])(day_Day, { day: i, offsetX: dayOffsetX }));\n\t\t}\n\t\treturn days;\n\t};\n\n\t_createClass(Home, [{\n\t\tkey: 'grabbingClass',\n\t\tget: function get() {\n\t\t\treturn this.state.isMouseDown ? style_default.a.grabbing : '';\n\t\t}\n\t}]);\n\n\treturn Home;\n}(preact_min[\"Component\"]);\n\n\n\n\nfunction getXFromTouchOrPointer(event) {\n\tvar x = void 0;\n\tif ('touches' in event) {\n\t\tx = event.touches[0].clientX;\n\t} else {\n\t\tx = event.clientX;\n\t}\n\treturn x;\n}\n\nfunction constrainNumber(number, min, max) {\n\treturn Math.min(Math.max(number, min), max);\n}\n\n/***/ }),\n\n/***/ \"Lglr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"days\":\"days__zCUeF\",\"grabbing\":\"grabbing__3ik7x\"};\n\n/***/ }),\n\n/***/ \"yQ52\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"intro\":\"intro__3V96J\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-home.chunk.faa27.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"day\":\"day__1Bqpt\",\"background\":\"background__ZCkI0\",\"cover\":\"cover__1Xjgy\",\"label\":\"label__2BtRs\",\"box\":\"box__1tRXU\",\"day-1\":\"day-1__2EG-K\",\"day-2\":\"day-2__3Oo5u\",\"day-3\":\"day-3__2vj-l\",\"day-4\":\"day-4__1qI6D\",\"day-5\":\"day-5__xskGj\",\"day-6\":\"day-6__2R5id\",\"day-7\":\"day-7__2soa2\",\"day-8\":\"day-8__39qBf\",\"day-9\":\"day-9__1FzKA\",\"day-10\":\"day-10__27Swe\",\"day-11\":\"day-11__3ZVbK\",\"day-12\":\"day-12__3TVDU\",\"day-13\":\"day-13__3pyPw\",\"day-14\":\"day-14__2Mh4g\",\"day-15\":\"day-15__2xpaW\",\"day-16\":\"day-16__JYukD\",\"day-17\":\"day-17__2PY85\",\"day-18\":\"day-18__3uIzv\",\"day-19\":\"day-19__1NwZN\",\"day-20\":\"day-20__1ABKp\",\"day-21\":\"day-21__2vIKC\",\"day-22\":\"day-22__1jVub\",\"day-23\":\"day-23__3rQy8\",\"day-24\":\"day-24__2bScc\",\"day-25\":\"day-25__3oINU\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/day/style.scss\n// module id = 7BpW\n// module chunks = 0","import { h, Component } from 'preact';\nimport style from './style';\nimport { Day } from '../../components/day';\nimport { Intro } from '../../components/intro';\n\nconst DAY_OF_ADVENT = 25;\n\nlet windowProxy;\nif (typeof window === \"undefined\") {\n\twindowProxy = {innerWidth: 1200};\n} else {\n\twindowProxy = window;\n}\n\nexport default class Home extends Component {\n\n\tstate = { isMouseDown: false, x: 0, offsetX: 0 };\n\n\trender(props, state) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass=\"fullscreen container\"\n\t\t\t\tonTouchStart={this.startDrag}\n\t\t\t\tonTouchEnd={this.endDrag}\n\t\t\t\tonTouchMove={this.drag}\n\t\t\t\tonMouseDown={this.startDrag}\n\t\t\t\tonMouseUp={this.endDrag}\n\t\t\t\tonMouseMove={this.drag}\n\t\t\t\tonMouseWheel={this.scroll}\n\t\t\t\tonMouseLeave={this.endDrag}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass={`fullscreen ${style.days} ${this.grabbingClass}`}\n\t\t\t\t\tstyle={this.getTransform(state)}\n\t\t\t\t>\n\t\t\t\t\t<Intro offsetX={state.offsetX}/>\n\t\t\t\t\t{this.renderDays(state.offsetX)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tstartDrag = e => {\n\t\tconst x = getXFromTouchOrPointer(e);\n\t\tthis.setState({ isMouseDown: true, x });\n\t}\n\n\tendDrag = e => {\n\t\tthis.setState({ isMouseDown: false });\n\t}\n\n\tdrag = e => {\n\t\tif (this.state.isMouseDown) {\n\t\t\tconst x = getXFromTouchOrPointer(e);\n\t\t\tconst delta = this.state.x - x;\n\t\t\tthis.setState({ x });\n\t\t\tthis.updateOffset(delta);\n\t\t}\n\t}\n\n\tscroll = e => {\n\t\te.preventDefault();\n\t\tconst delta = e.deltaX + e.deltaY;\n\t\tthis.updateOffset(delta);\n\t}\n\n\tupdateOffset(delta) {\n\t\tconst offsetX = constrainNumber(this.state.offsetX + delta, 0, windowProxy.innerWidth * DAY_OF_ADVENT);\n\t\tthis.setState({ offsetX });\n\t}\n\n\tgetTransform({ offsetX }) {\n\t\treturn { transform: `translate3d(${-1 * offsetX}px, 0, 0)` };\n\t}\n\n\trenderDays(offsetX) {\n\t\tconst days = [];\n\t\tconst windowWidth = windowProxy.innerWidth;\n\t\tfor (let i = 0; i < DAY_OF_ADVENT; i++) {\n\t\t\tconst dayOffsetX = offsetX - windowWidth * (i + 1);\n\t\t\tdays.push(<Day day={i} offsetX={dayOffsetX} />);\n\t\t}\n\t\treturn days;\n\t}\n\n\tget grabbingClass() {\n\t\treturn this.state.isMouseDown ? style.grabbing : '';\n\t}\n\n}\n\nfunction getXFromTouchOrPointer(event) {\n\tlet x;\n\tif ('touches' in event) {\n\t\tx = event.touches[0].clientX;\n\t} else {\n\t\tx = event.clientX;\n\t}\n\treturn x;\n}\n\nfunction constrainNumber(number, min, max) {\n\treturn Math.min(Math.max(number, min), max);\n}\n\n\n// WEBPACK FOOTER //\n// ./routes/home/index.js","import { h, Component } from 'preact';\nimport style from './style';\n\n\nexport class Day extends Component {\n  render({day, offsetX}) {\n    const mod2Class = day % 2 === 0 ? style.cover: style.box;\n    const dayClass = style[`day-${day + 1}`];\n    return <div class={`${style.day} ${mod2Class} ${dayClass}`}>\n      <h1 class={style.label}>{day + 1}</h1>\n      <div class={style.background} style={this.getStyle(day, offsetX)}></div>\n    </div>;\n  }\n\n  getStyle(day, offsetX) {\n    if (typeof window === \"undefined\") {\n      return {};\n    }\n    const relativeOffset = 20 * offsetX / window.innerWidth;\n    if (20 < Math.abs(relativeOffset)) {\n      // Only cause style re-paints for the current visible area\n      return {};\n    }\n\n    let transform;\n    if (day % 2 === 0) {\n      transform = `translate3d(${relativeOffset}%, 0, 0)`;\n    } else {\n      transform = `rotateY(${relativeOffset}deg)`;\n    }\n    return {transform};\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/day/index.js","import { h, Component } from 'preact';\nimport style from './style';\n\nexport class Intro extends Component {\n  render({offsetX}) {\n    return <div class={style.intro}>\n      <div style={this.getStyles(offsetX)}>Scroll to start your advent adventure...</div>\n    </div>;\n  }\n\n  getStyles(offsetX) {\n    if (typeof window === \"undefined\") {\n      return {};\n    }\n    const ratio = offsetX / window.innerWidth\n    const percent = 100 * ratio;\n    return {\n      transform: `translate3d(${1.5 * offsetX}px, 0, ${-1.5 * percent}px)`,\n      opacity: 1 - ratio,\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/intro/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"days\":\"days__zCUeF\",\"grabbing\":\"grabbing__3ik7x\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/style.scss\n// module id = Lglr\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"intro\":\"intro__3V96J\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/intro/style.scss\n// module id = yQ52\n// module chunks = 0"],"sourceRoot":""}